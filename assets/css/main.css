:root {
  /* Light mode colors */
  --color-primary: #3b82f6; /* Blue 500 */
  --color-secondary: #6b7280; /* Gray 500 */
  --color-background: #ffffff; /* White */
  --color-surface: #f3f4f6; /* Gray 100 */
  --color-text: #111827; /* Gray 900 */

  /* Additional semantic colors derived from the 5 base colors */
  --color-border: #e5e7eb; /* Light border using surface color */
  --color-text-muted: #6b7280; /* Muted text using secondary color */
  --color-header-bg: #fafbfc; /* Very subtle gray for header */

  /* Hover states for light mode */
  --color-primary-hover: #2563eb; /* Blue 600 */
  --color-secondary-hover: #4b5563; /* Gray 600 */

  /* UI state colors for light mode */
  --color-success: #10b981; /* Green 500 */
  --color-error: #ef4444; /* Red 500 */
  --color-warning: #f59e0b; /* Amber 500 */
  --color-info: var(--color-primary); /* Using primary as info */

  /* Shiki theme colors for light mode */
  --shiki-default-bg: #ffffff;
  --shiki-default: #24292e;

  /* Typography-specific variables for prose */
  --prose-headings: var(--color-text);
  --prose-body: var(--color-text);
  --prose-bold: var(--color-text);
  --prose-links: var(--color-primary);
  --prose-links-hover: var(--color-primary-hover);
  --prose-quotes: var(--color-text-muted);
  --prose-code: var(--color-primary);
  --prose-code-bg: var(--color-surface);
  --prose-pre-bg: var(--color-surface);
  --prose-pre-border: var(--color-border);
  --prose-hr: var(--color-border);
  --prose-th-bg: var(--color-surface);
  --prose-th-border: var(--color-border);
  --prose-td-border: var(--color-border);
}

html[data-theme='dark'] {
  /* Dark mode colors */
  --color-primary: #ff78c8; /* Accent pink */
  --color-secondary: #715566; /* Muted color */
  --color-background: #353640; /* Dark background */
  --color-surface: #86436b; /* Border/surface color */
  --color-text: #e9edf1; /* Foreground text */

  /* Additional semantic colors for dark mode */
  --color-border: #86436b; /* Border color */
  --color-text-muted: #a8a9b3; /* Muted text color - improved contrast */
  --color-header-bg: #3a3b45; /* Slightly lighter than background for header */

  /* Hover states for dark mode */
  --color-primary-hover: #ff9dd9; /* Lighter pink */
  --color-secondary-hover: #86667a; /* Lighter muted */

  /* UI state colors for dark mode */
  --color-success: #34d399; /* Green 400 - lighter for dark mode */
  --color-error: #f87171; /* Red 400 - lighter for dark mode */
  --color-warning: #fbbf24; /* Amber 400 - lighter for dark mode */
  --color-info: var(--color-primary); /* Using primary as info */

  /* Shiki theme colors for dark mode */
  --shiki-dark-bg: #1e1e1e;
  --shiki-dark: #d4d4d4;

  /* Typography-specific variables for prose in dark mode */
  --prose-headings: var(--color-text);
  --prose-body: var(--color-text);
  --prose-bold: var(--color-text);
  --prose-links: var(--color-primary);
  --prose-links-hover: var(--color-primary-hover);
  --prose-quotes: var(--color-text-muted);
  --prose-code: var(--color-primary);
  --prose-code-bg: rgba(134, 67, 107, 0.3); /* Translucent surface */
  --prose-pre-bg: rgba(134, 67, 107, 0.2); /* Slightly translucent */
  --prose-pre-border: var(--color-border);
  --prose-hr: var(--color-border);
  --prose-th-bg: rgba(134, 67, 107, 0.3);
  --prose-th-border: var(--color-border);
  --prose-td-border: var(--color-border);
}

/* Smooth color transitions */
body:not(.no-animations) * {
  transition-property: background-color, border-color, color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Base styles */
body {
  background-color: var(--color-background);
  color: var(--color-text);
}

/* Prose/Typography utility class customization */
.prose {
  --uno-prose-body: var(--prose-body);
  --uno-prose-headings: var(--prose-headings);
  --uno-prose-links: var(--prose-links);
  --uno-prose-lists: var(--prose-body);
  --uno-prose-hr: var(--prose-hr);
  --uno-prose-captions: var(--prose-quotes);
  --uno-prose-code: var(--prose-code);
  --uno-prose-borders: var(--prose-td-border);
  --uno-prose-bg-soft: var(--prose-code-bg);
  max-width: 65ch;
}

/* Custom prose color variants */
.prose-primary {
  --uno-prose-links: var(--color-primary);
}

.prose-secondary {
  --uno-prose-body: var(--color-text);
  --uno-prose-headings: var(--color-text);
  --uno-prose-links: var(--color-secondary);
}

/* Page Transitions - only when animations are enabled */
body:not(.no-animations) .page-enter-active,
body:not(.no-animations) .page-leave-active {
  transition: all 0.4s ease;
}

body:not(.no-animations) .page-enter-from {
  opacity: 0;
  transform: translateY(20px);
}

body:not(.no-animations) .page-leave-to {
  opacity: 0;
  transform: translateY(-20px);
}

/* When animations are disabled, ensure instant transitions */
body.no-animations .page-enter-active,
body.no-animations .page-leave-active {
  transition: none;
}

body.no-animations .page-enter-from,
body.no-animations .page-leave-to {
  opacity: 1;
  transform: none;
}

/* Staggered Content Animation - only when animations are enabled */
body:not(.no-animations) .animate {
  opacity: 0;
  transform: translateY(1rem);
  transition: all 0.7s ease-out;
}

body:not(.no-animations) .animate.show {
  opacity: 1;
  transform: translateY(0);
}

/* When animations are disabled */
body.no-animations .animate {
  opacity: 1;
  transform: none;
  transition: none;
}

/* Heading Anchor Links - Native Nuxt Content */
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  scroll-margin-top: 5rem; /* 80px to account for fixed header */
}

/* Style the native anchor links that wrap heading text */
.prose h1 > a,
.prose h2 > a,
.prose h3 > a,
.prose h4 > a,
.prose h5 > a,
.prose h6 > a {
  text-decoration: none;
  color: inherit;
  position: relative;
}

/* Add hash symbol on hover */
.prose h1 > a:hover::before,
.prose h2 > a:hover::before,
.prose h3 > a:hover::before,
.prose h4 > a:hover::before,
.prose h5 > a:hover::before,
.prose h6 > a:hover::before {
  content: '#';
  position: absolute;
  left: -1.5rem;
  color: var(--color-text-muted);
  font-weight: normal;
}

.prose h1 > a:hover,
.prose h2 > a:hover,
.prose h3 > a:hover,
.prose h4 > a:hover,
.prose h5 > a:hover,
.prose h6 > a:hover {
  color: var(--color-primary);
}
